<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">









  
  
  <link rel="stylesheet" media="all" href="/lib/Han/dist/han.min.css?v=3.3">




<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.4.2" rel="stylesheet" type="text/css">



  <link rel="icon" type="image/png" sizes="32x32" href="/yinyang.png?v=6.4.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/yinyang.png?v=6.4.2">










<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.4.2',
    sidebar: {"position":"left","width":350,"display":"always","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="basic 8086 and dos interrupts that are currently supported by the emulator                                  &amp;nbsp;    The list of all interrupts that are currently supported by the emulator.  Th">
<meta property="og:type" content="website">
<meta property="og:title" content="mbinary&#39;s blog">
<meta property="og:url" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/8086_bios_and_dos_interrupts.html">
<meta property="og:site_name" content="mbinary&#39;s blog">
<meta property="og:description" content="basic 8086 and dos interrupts that are currently supported by the emulator                                  &amp;nbsp;    The list of all interrupts that are currently supported by the emulator.  Th">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">
<meta property="og:updated_time" content="2008-09-14T02:00:00.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="mbinary&#39;s blog">
<meta name="twitter:description" content="basic 8086 and dos interrupts that are currently supported by the emulator                                  &amp;nbsp;    The list of all interrupts that are currently supported by the emulator.  Th">
<meta name="twitter:image" content="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/img/back_to_top.gif">



  <link rel="alternate" href="/atom.xml" title="mbinary's blog" type="application/atom+xml" />




  <link rel="canonical" href="https://mbinary.coding.me/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/8086_bios_and_dos_interrupts.html"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title> | mbinary's blog</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta custom-logo">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">mbinary's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />关于</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />分类<span class="badge">15</span></a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />标签云<span class="badge">47</span></a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />时间轴<span class="badge">39</span></a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-leetcode">
    <a href="/leetcode/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-line-chart"></i> <br />leetcode</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-ustc-cs menu-item-active">
    <a href="/ustc-cs/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />CS课程资源</a>
  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="我来帮你找( •̀ ω •́ )✧" spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

    
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
      
      
    
    

  


          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    
    
    
    <div class="post-block page">
      <header class="post-header">

<h2 class="post-title" itemprop="name headline"></h2>

<div class="post-meta">
  
  


  
  
  <ul class="breadcrumb">
    
      
      
        
          <li><a href="/ustc-cs/">USTC-CS</a></li>
          
            
          
        
      
    
      
      
        
          <li><a href="/ustc-cs/计算机与信息类/">计算机与信息类</a></li>
          
            
          
        
      
    
      
      
        
          <li><a href="/ustc-cs/计算机与信息类/微机原理与系统/">微机原理与系统</a></li>
          
            
          
        
      
    
      
      
        
          <li><a href="/ustc-cs/计算机与信息类/微机原理与系统/lab/">LAB</a></li>
          
            
          
        
      
    
      
      
        
          <li><a href="/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/">EMU8086</a></li>
          
            
          
        
      
    
      
      
        
          <li>DOCUMENTATION</li>
        
      
    
      
      
        
          <li><a href="/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/8086_bios_and_dos_interrupts.html/">8086_BIOS_AND_DOS_INTERRUPTS.HTML</a></li>
          
            
          
        
      
    
  </ul>


</div>

</header>

      
      
      
      <div class="post-body han-init-context">
        
        
          <script src="/assets/js/APlayer.min.js"> </script>
<html>

<head><meta name="generator" content="Hexo 3.8.0">

<!-- hexo-inject:begin --><!-- hexo-inject:end --><title>basic 8086 and dos interrupts that are currently supported by the emulator</title>

<meta name="description" content="interrupts currently supported by the 8086 emulator"><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#0000FF" alink="#FF0000">


















<!-- hexo-inject:begin --><!-- hexo-inject:end --><!--  START INSERT -->





<font face="Verdana" size="3">

<a name="top1"> &nbsp; </a>

<font size="+1">
<b>The list of all interrupts that are currently supported by the emulator.</b>
<br>
These interrupts should be compatible with IBM PC and all generations of x86, original Intel 8086 and AMD compatible microprocessors, however Windows XP may overwrite some of the original interrupts.
</font>


<hr>
<br>






Quick reference:<br><br>

<font face="Fixedsys">

<table width="100%">
<tr>

<td>
<a href="#int10h_00h">INT 10h/00h</a><br>
<a href="#int10h_01h">INT 10h/01h</a><br>
<a href="#int10h_02h">INT 10h/02h</a><br>
<a href="#int10h_03h">INT 10h/03h</a><br>
<a href="#int10h_05h">INT 10h/05h</a><br>
<a href="#int10h_06h">INT 10h/06h</a><br>
<a href="#int10h_07h">INT 10h/07h</a><br>
<a href="#int10h_08h">INT 10h/08h</a><br>
<a href="#int10h_09h">INT 10h/09h</a><br>
<a href="#int10h_0Ah">INT 10h/0Ah</a><br>
<a href="#int10h_0Ch">INT 10h/0Ch</a><br>
<a href="#int10h_0Dh">INT 10h/0Dh</a><br>
<a href="#int10h_0Eh">INT 10h/0Eh</a><br>
<a href="#int10h_13h">INT 10h/13h</a><br>
</td>

<td>
<a href="#int10h_1003h">INT 10h/1003h</a><br>
<a href="#int11h">INT 11h</a><br>
<a href="#int12h">INT 12h</a><br>
<a href="#int13h_00h">INT 13h/00h</a><br>
<a href="#int13h_02h">INT 13h/02h</a><br>
<a href="#int13h_03h">INT 13h/03h</a><br>
<a href="#int15h_86h">INT 15h/86h</a><br>
<a href="#int16h_00h">INT 16h/00h</a><br>
<a href="#int16h_01h">INT 16h/01h</a><br>
<a href="#int19h">INT 19h</a><br>
<a href="#int1Ah_00h">INT 1Ah/00h</a><br>
<a href="#int20h">INT 20h</a><br>
</td>

<td>
<a href="#int21h">INT 21h</a><br>
<a href="#int21h_01h">INT 21h/01h</a><br>
<a href="#int21h_02h">INT 21h/02h</a><br>
<a href="#int21h_05h">INT 21h/05h</a><br>
<a href="#int21h_06h">INT 21h/06h</a><br>
<a href="#int21h_07h">INT 21h/07h</a><br>
<a href="#int21h_09h">INT 21h/09h</a><br>
<a href="#int21h_0Ah">INT 21h/0Ah</a><br>
<a href="#int21h_0Bh">INT 21h/0Bh</a><br>
<a href="#int21h_0Ch">INT 21h/0Ch</a><br>
<a href="#int21h_0Eh">INT 21h/0Eh</a><br>
<a href="#int21h_19h">INT 21h/19h</a><br>
<a href="#int21h_25h">INT 21h/25h</a><br>
<a href="#int21h_2Ah">INT 21h/2Ah</a><br>
<a href="#int21h_2Ch">INT 21h/2Ch</a><br>
</td>

<td>
<a href="#int21h_35h">INT 21h/35h</a><br>
<a href="#int21h_39h">INT 21h/39h</a><br>
<a href="#int21h_3Ah">INT 21h/3Ah</a><br>
<a href="#int21h_3Bh">INT 21h/3Bh</a><br>
<a href="#int21h_3Ch">INT 21h/3Ch</a><br>
<a href="#int21h_3Dh">INT 21h/3Dh</a><br>
<a href="#int21h_3Eh">INT 21h/3Eh</a><br>
<a href="#int21h_3Fh">INT 21h/3Fh</a><br>
<a href="#int21h_40h">INT 21h/40h</a><br>
<a href="#int21h_41h">INT 21h/41h</a><br>
<a href="#int21h_42h">INT 21h/42h</a><br>
<a href="#int21h_47h">INT 21h/47h</a><br>
<a href="#int21h_4Ch">INT 21h/4Ch</a><br>
<a href="#int21h_56h">INT 21h/56h</a><br>
</td>



<td>
<a href="#int33h_0000h">INT 33h/0000h</a><br>
<a href="#int33h_0001h">INT 33h/0001h</a><br>
<a href="#int33h_0002h">INT 33h/0002h</a><br>
<a href="#int33h_0003h">INT 33h/0003h</a><br>
</td>




</tr>
</table>

</font>

<br><br>

<hr>
<br>


the short list of supported interrupts with descriptions:<br><br>



<a name="int10h_00h">&nbsp;</a>

<hr>

     <b>INT 10h</b> / <b>AH = 0</b> - set video mode.<br>

     <blockquote>
     	<i>input:</i><br>
     	<b>AL</b> = desired video mode.<br>
     	<br>
		these video modes are supported:<br><br>
		<b>00h</b> - text mode. 40x25. 16 colors. 8 pages.<br><br>

		<b>03h</b> - text mode. 80x25. 16 colors. 8 pages.<br><br>

		<b>13h</b> - graphical mode. 40x25. 256 colors. 320x200 pixels. 1 page.


     </blockquote>
	example:
<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
	<font color="#0000FF">mov</font> <font color="#C80000">al</font>, 13h
	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 0
	<font color="#0000FF">int</font> 10h
</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>



<a name="int10h_01h">&nbsp;</a>
<hr>

     <b>INT 10h</b> / <b>AH = 01h</b> - set text-mode cursor shape.<br>


     <blockquote>
     	<i>input:</i><br>
     	<b>CH</b> = cursor start line (bits 0-4) and options (bits 5-7).<br>
     	<b>CL</b> = bottom cursor line (bits 0-4).<br>
     	<br>
     	when bit 5 of CH is set to <b>0</b>, the cursor is visible.
     	when bit 5 is <b>1</b>, the cursor is not visible.
<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
<font color="#008000">; hide blinking text cursor: </font>
     	<font color="#0000FF">mov</font> <font color="#C80000">ch</font>, 32
     	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 1
     	<font color="#0000FF">int</font> 10h

<font color="#008000">; show standard blinking text cursor: </font>
     	<font color="#0000FF">mov</font> <font color="#C80000">ch</font>, 6
     	<font color="#0000FF">mov</font> <font color="#C80000">cl</font>, 7
     	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 1
     	<font color="#0000FF">int</font> 10h

<font color="#008000">; show box-shaped blinking text cursor: </font>
     	<font color="#0000FF">mov</font> <font color="#C80000">ch</font>, 0
     	<font color="#0000FF">mov</font> <font color="#C80000">cl</font>, 7
     	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 1
     	<font color="#0000FF">int</font> 10h

<font color="#008000">;     	note: some bioses required CL to be &gt;=7,
;     	otherwise wrong cursor shapes are displayed. </font>
</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->
     </blockquote>

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>



<a name="int10h_02h">&nbsp;</a>
<hr>

     <b>INT 10h</b> / <b>AH = 2</b> - set cursor position.<br>

     <blockquote>
     	<i>input:</i><br>
     	<b>DH</b> = row.<br>
     	<b>DL</b> = column.<br>
     	<b>BH</b> = page number (0..7).<br>
     </blockquote>
	example:
<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
	<font color="#0000FF">mov</font> <font color="#C80000">dh</font>, 10
	<font color="#0000FF">mov</font> <font color="#C80000">dl</font>, 20
	<font color="#0000FF">mov</font> <font color="#C80000">bh</font>, 0
	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 2
	<font color="#0000FF">int</font> 10h
</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>



<a name="int10h_03h">&nbsp;</a>
<hr>

     <b>INT 10h</b> / <b>AH = 03h</b> - get cursor position and size.<br>
     <blockquote>
     	<i>input:</i><br>
     	<b>BH</b> = page number.<br>
     	<i>return:</i><br>
     	<b>DH</b> = row.<br>
     	<b>DL</b> = column.<br>
     	<b>CH</b> = cursor start line.<br>
     	<b>CL</b> = cursor bottom line.<br>
     </blockquote>

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>



<a name="int10h_05h">&nbsp;</a>
<hr>

     <b>INT 10h</b> / <b>AH = 05h</b> - select active video page.<br>
     <blockquote>
     	<i>input:</i><br>
     	<b>AL</b> = new page number (0..7).<br>
     	the activated page is displayed.
     </blockquote>


<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>



<a name="int10h_06h">&nbsp;</a>
<a name="int10h_07h">&nbsp;</a>
<hr>

	 <b>INT 10h</b> / <b>AH = 06h</b>	- scroll up window.<br>
	 <b>INT 10h</b> / <b>AH = 07h</b> - scroll down window.<br>
	 <blockquote>
	 	 <i>input:</i><br>
		 <b>AL</b> = number of lines by which to scroll (00h = clear entire window).<br>
		 <b>BH</b> = <a href="#attrib">attribute</a> used to write blank lines at bottom of window.<br>
		 <b>CH, CL</b> = row, column of window's upper left corner.<br>
		 <b>DH, DL</b> = row, column of window's lower right corner.<br>
	 </blockquote>


<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>



<a name="int10h_08h">&nbsp;</a>
<hr>

     <b>INT 10h</b> / <b>AH = 08h</b> - read character and <a href="#attrib">attribute</a> at cursor position.<br><br>
	 <blockquote>
	 	 <i>input:</i><br>
	 	 <b>BH</b> = page number.<br>
	 	 <i>return:</i><br>
	 	 <b>AH</b> = <a href="#attrib">attribute</a>.<br>
	 	 <b>AL</b> = character.<br>
	 </blockquote>


<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>


<a name="int10h_09h">&nbsp;</a>
<hr>

     <b>INT 10h</b> / <b>AH = 09h</b> - write character and <a href="#attrib">attribute</a> at cursor position.<br><br>
	 <blockquote>
	 	 <i>input:</i><br>
	 	 <b>AL</b> = character to display.<br>
	 	 <b>BH</b> = page number.<br>
	 	 <b>BL</b> = <a href="#attrib">attribute</a>.<br>
	 	 <b>CX</b> = number of times to write character.<br>
	 </blockquote>

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>






<a name="int10h_0Ah">&nbsp;</a>
<hr>

     <b>INT 10h</b> / <b>AH = 0Ah</b> - write character only at cursor position.<br><br>
	 <blockquote>
	 	 <i>input:</i><br>
	 	 <b>AL</b> = character to display.<br>
	 	 <b>BH</b> = page number.<br>
	 	 <b>CX</b> = number of times to write character.<br>
	 </blockquote>

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>








<a name="int10h_0Ch">&nbsp;</a>
<hr>

     <b>INT 10h</b> / <b>AH = 0Ch</b> - change color for a single pixel.<br><br>
	 <blockquote>
	 	 <i>input:</i><br>
	 	 <b>AL</b> = pixel color<br>
	 	 <b>CX</b> = column.<br>
	 	 <b>DX</b> = row.<br>
	 </blockquote>
	example:
<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
	<font color="#0000FF">mov</font> <font color="#C80000">al</font>, 13h
	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 0
	<font color="#0000FF">int</font> 10h     <font color="#008000">; set graphics video mode. </font>
	<font color="#0000FF">mov</font> <font color="#C80000">al</font>, 1100b
	<font color="#0000FF">mov</font> <font color="#C80000">cx</font>, 10
	<font color="#0000FF">mov</font> <font color="#C80000">dx</font>, 20
	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 0ch
	<font color="#0000FF">int</font> 10h     <font color="#008000">; set pixel. </font>
</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>










<a name="int10h_0Dh">&nbsp;</a>
<hr>

     <b>INT 10h</b> / <b>AH = 0Dh</b> - get color of a single pixel.<br><br>
	 <blockquote>
	 	 <i>input:</i><br>
	 	 <b>CX</b> = column.<br>
	 	 <b>DX</b> = row.<br>
	 	 <i>output:</i><br>
	 	 <b>AL</b> = pixel color<br>
	 </blockquote>

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>


















<a name="int10h_0Eh">&nbsp;</a>
<hr>

     <b>INT 10h</b> / <b>AH = 0Eh</b> - teletype output.<br><br>
	 <blockquote>
	 	 <i>input:</i><br>
	 	 <b>AL</b> = character to write.
	 </blockquote>
	 this functions displays a character on the screen,
	 advancing the cursor and scrolling the screen as necessary.
	 the printing is always done to current active page.
	<br><br>
	example:

<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
	<font color="#0000FF">mov</font> <font color="#C80000">al</font>, <font color="#800080">'a'</font>
	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 0eh
	<font color="#0000FF">int</font> 10h

	<font color="#008000">; note: on specific systems this
	; function may not be supported in graphics mode. </font>
</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->




<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>












<a name="int10h_13h">&nbsp;</a>
<hr>

     <b>INT 10h</b> / <b>AH = 13h</b> - write string.<br><br>
	 <blockquote>
	 	 <i>input:</i><br>
	 	 <b>AL</b> = write mode:<br>
	 	 &nbsp; &nbsp; <b>bit 0</b>: update cursor after writing;<br>
	 	 &nbsp; &nbsp; <b>bit 1</b>: string contains <a href="#attrib">attributes</a>.<br>
	 	 <b>BH</b> = page number.<br>
	 	 <b>BL</b> = <a href="#attrib">attribute</a> if string contains only characters (bit 1 of AL is zero).<br>
	 	 <b>CX</b> = number of characters in string (attributes are not counted).<br>
	 	 <b>DL,DH</b> = column, row at which to start writing.<br>
	 	 <b>ES:BP</b> points to string to be printed.
	 </blockquote>
	example:
<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
	<font color="#0000FF">mov</font> <font color="#C80000">al</font>, 1
	<font color="#0000FF">mov</font> <font color="#C80000">bh</font>, 0
	<font color="#0000FF">mov</font> <font color="#C80000">bl</font>, 0011_1011b
	<font color="#0000FF">mov</font> <font color="#C80000">cx</font>, msg1end <font color="#0064C8">-</font> <font color="#000064">offset</font> msg1 <font color="#008000">; calculate message size. </font>
	<font color="#0000FF">mov</font> <font color="#C80000">dl</font>, 10
	<font color="#0000FF">mov</font> <font color="#C80000">dh</font>, 7
	<font color="#0000FF">push</font> <font color="#800000">cs</font>
	<font color="#0000FF">pop</font> <font color="#800000">es</font>
	<font color="#0000FF">mov</font> <font color="#C80000">bp</font>, <font color="#000064">offset</font> msg1
	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 13h
	<font color="#0000FF">int</font> 10h
	<font color="#0000FF">jmp</font> msg1end
	msg1 <font color="#000064">db</font> <font color="#800080">" hello, world! "</font>
	msg1end:
</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>












<a name="int10h_1003h">&nbsp;</a>
<hr>


     <b>INT 10h</b> / <b>AX = 1003h</b> - toggle intensity/blinking.<br><br>
	 <blockquote>
	 	 <i>input:</i><br>
	 	 <b>BL</b> = write mode:<br>
	 	 &nbsp; &nbsp; <b>0</b>: enable intensive colors.<br>
	 	 &nbsp; &nbsp; <b>1</b>: enable blinking (not supported by the emulator and windows command prompt).<br>
	 	 <b>BH</b> = 0 (to avoid problems on some adapters).<br>
	 </blockquote>
example:

<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
<font color="#0000FF">mov</font> <font color="#C80000">ax</font>, 1003h
<font color="#0000FF">mov</font> <font color="#C80000">bx</font>, 0
<font color="#0000FF">int</font> 10h
</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->

<hr>

<a name="attrib">&nbsp;</a><br>
<b>bit color table:</b><br>
character attribute is 8 bit value, low 4 bits set fore color, high 4 bits
set background color.<br>
note: the emulator and windows command line prompt do not support background blinking, however to make colors look the same in dos and in full screen mode it is required to turn off the background blinking.<br>

<pre><font face="Fixedsys">
HEX    BIN        COLOR

0      0000      black
1      0001      blue
2      0010      green
3      0011      cyan
4      0100      red
5      0101      magenta
6      0110      brown
7      0111      light gray
8      1000      dark gray
9      1001      light blue
A      1010      light green
B      1011      light cyan
C      1100      light red
D      1101      light magenta
E      1110      yellow
F      1111      white
</font></pre>

note:

<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
<font color="#008000">; use this code for compatibility with dos/cmd prompt full screen mode: </font>
<font color="#0000FF">mov</font>     <font color="#C80000">ax</font>, 1003h
<font color="#0000FF">mov</font>     <font color="#C80000">bx</font>, 0   <font color="#008000">; disable blinking. </font>
<font color="#0000FF">int</font>     10h

</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->
<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>


<a name="int11h">&nbsp;</a>
		<hr>

      <br>

		<b>INT 11h</b> - get BIOS equipment list.<br>
		 <blockquote>
			 <i>return:</i><br>
			 <b>AX</b> = BIOS equipment list word, actually this call returns
				the contents of the word at 0040h:0010h.<br><br>
			 Currently this function can be used to determine the number
			 of installed number of floppy disk drives.

			 <pre><font face="Fixedsys">
Bit fields for BIOS-detected installed hardware:
bit(s)	Description
 15-14  Number of parallel devices.
 13     Reserved.
 12     Game port installed.
 11-9   Number of serial devices.
 8      Reserved.
 7-6    Number of floppy disk drives (minus 1):
          00 single floppy disk;
          01 two floppy disks;
          10 three floppy disks;
          11 four floppy disks.
 5-4    Initial video mode:
          00 EGA,VGA,PGA, or other with on-board video BIOS;
          01 40x25 CGA color.
          10 80x25 CGA color (emulator default).
          11 80x25 mono text.
 3      Reserved.
 2      PS/2 mouse is installed.
 1      Math coprocessor installed.
 0      Set when booted from floppy.
</font></pre>
		 </blockquote>

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>



<a name="int12h">&nbsp;</a>
		<hr>

      <br>

		<b>INT 12h</b> - get memory size.<br>
		 <blockquote>
			 <i>return:</i><br>
			 <b>AX</b> = kilobytes of contiguous
				memory starting at absolute
				address 00000h,	this call returns
				the contents of the word
				at 0040h:0013h.
		 </blockquote>

		<hr>

		<br>

		<b>Floppy drives are emulated using</b> <i>FLOPPY_0(..3)</i> <b>files.</b>

		<br><br>


<a name="int13h_00h">&nbsp;</a>
		<hr>

		<br>

		<b>INT 13h</b> / <b>AH = 00h</b> - reset disk system.

		<br><br>


<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>



<a name="int13h_02h">&nbsp;</a>
<a name="int13h_03h">&nbsp;</a>
		<hr>

		<br>

     	<b>INT 13h</b> / <b>AH = 02h</b> - read disk sectors into memory.<br>
     	<b>INT 13h</b> / <b>AH = 03h</b> - write disk sectors.<br>
     	<blockquote>
     	<i>input:</i><br>
     		<blockquote>
			<b>AL</b> = number of sectors to read/write (must be nonzero)<br>
			<b>CH</b> = cylinder number (0..79).<br>
			<b>CL</b> = sector number (1..18).<br>
			<b>DH</b> = head number (0..1).<br>
			<b>DL</b> = drive number (0..3 ,  for the emulator it depends on quantity of FLOPPY_ files).<br>
			<b>ES:BX</b> points to data buffer.<br>
			</blockquote>
		<i>return:</i><br>
			<blockquote>
		    <b>CF</b> set on error.<br>
			<b>CF</b> clear if successful.<br>
			<b>AH</b> = status (0 - if successful).<br>
			<b>AL</b> = number of sectors transferred. <br>
			</blockquote>

			Note: each sector has <b>512</b> bytes.
		</blockquote>

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>



<a name="int15h_86h">&nbsp;</a>
		<hr>

		<br>

		<b>INT 15h</b> / <b>AH = 86h</b> - BIOS wait function.
     	<blockquote>
     	<i>input:</i><br>
     		<blockquote>
            <b>CX:DX</b> = interval in microseconds
            </blockquote>
		<i>return:</i><br>
			<blockquote>
            <b>CF</b> clear if successful (wait interval elapsed),<br>
            <b>CF</b> set on error or when wait function is already in progress.
            </blockquote>
            <br>
            <i>Note:</i>
            <blockquote>
                        the resolution of the wait period is 977 microseconds
                  on many systems (1 million microseconds - 1 second).
                  <br>
                  Windows XP does not support this interrupt (always sets CF=1).
           	</blockquote>
		</blockquote>
		<br>

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>



<a name="int16h_00h">&nbsp;</a>
		<hr>

		<br>

		<b>INT 16h</b> / <b>AH = 00h</b> - get keystroke from keyboard (no echo).<br>
		<blockquote>
            <i>return:</i><br>
            	<blockquote>
            	<b>AH</b> = BIOS scan code.<br>
                <b>AL</b> = ASCII character.<br>
                (if a keystroke is present, it is removed from the keyboard buffer).
            	</blockquote>
        </blockquote>

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>



<a name="int16h_01h">&nbsp;</a>
 		<hr>
		<br>

		<b>INT 16h</b> / <b>AH = 01h</b> - check for keystroke in the keyboard buffer.<br>
		<blockquote>
            <i>return:</i><br>
            	<blockquote>
            	<b>ZF = 1</b> if keystroke is not available.<br>
            	<b>ZF = 0</b> if keystroke available.<br>
            	<b>AH</b> = BIOS scan code.<br>
                <b>AL</b> = ASCII character.<br>
                (if a keystroke is present, it is not removed from the keyboard buffer).
            	</blockquote>
        </blockquote>

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>


<a name="int19h">&nbsp;</a>
 		<hr>

		<br>

		<b>INT 19h</b> - system reboot.<br>
		<blockquote>
		Usually, the BIOS will try to read sector 1, head 0, track 0 from drive
	  	<b>A:</b> to 0000h:7C00h. The emulator just stops the execution, to boot from
        floppy drive select from the menu:
        <b>'virtual drive' -&gt; 'boot from floppy'</b>
        </blockquote>
<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>



<a name="int1Ah_00h">&nbsp;</a>
 		<hr>

		<br>

		<b>INT 1Ah</b> / <b>AH = 00h</b> - get system time.<br>
		<blockquote>
            <i>return:</i><br>
            	<blockquote>
            	<b>CX:DX</b> = number of clock ticks since midnight.<br>
                <b>AL</b> = midnight counter, advanced each time midnight passes.<br>
            	</blockquote>
        </blockquote>

		notes:<br>
		there are approximately <b>18.20648</b> clock ticks per second,<br>
		    and <b>1800B0h</b> per 24 hours.
		<br><b>AL</b>  is not set by the emulator.

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>



<a name="int20h">&nbsp;</a>
 		<hr>

	<br><br>

<b>INT 20h</b> - exit to operating system.<br><br>



<a name="int21h">&nbsp;</a>
 		<hr>





	<br><br>

	<b><font size="+1">The short list of emulated <u>MS-DOS</u> interrupts  -- INT 21h</font><br><br></b>

<hr>


	<font size="+1">DOS file system is emulated in <b><font color="green">C:\emu8086\vdrive\x</font></b> (x is a drive letter)</font><br><br>
    If no drive letter is specified and current directory is not set, then <b><font color="green">C:\emu8086\MyBuild\</font></b> path is used by default. <b>FLOPPY_0,1,2,3</b> files are emulated independently from DOS file system.
<br><br>
For the emulator physical drive <b>A:</b> is this file <b>c:\emu8086\FLOPPY_0</b> (for BIOS interrupts: <b>INT 13h</b> and boot).
<br><br>
For DOS interrupts (<b>INT 21h</b>) drive <b>A:</b> is emulated in this subdirectory: <b>C:\emu8086\vdrive\a\</b>

   <br><br>
   <font size="1"> Note: DOS file system limits the file and directory names to 8 characters, extension is limited to 3 characters;<br>
   example of a valid file name: <b>myfile.txt</b> (file name = 6 chars, extension - 3 chars).
   extension is written after the dot, no other dots are allowed.</font>

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>

















<a name="int21h_01h">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH=1</b> - read character from standard input, with echo, result is stored in <b>AL</b>.<br>
	 if there is no character in the keyboard buffer, the function waits until any key is pressed.
	<br><br>
	example:
<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 1
	<font color="#0000FF">int</font> 21h
</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->



<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>

















<a name="int21h_02h">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH=2</b> - write character to standard output.<br>
	entry: <b>DL</b> = character to write, after execution <b>AL = DL</b>.
	<br><br>
	example:


<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 2
	<font color="#0000FF">mov</font> <font color="#C80000">dl</font>, <font color="#800080">'a'</font>
	<font color="#0000FF">int</font> 21h
</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->



<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>















<a name="int21h_05h">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH=5</b> - output character to printer.<br>
	entry: <b>DL</b> = character to print, after execution <b>AL = DL</b>.
	<br><br>
	example:



<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 5
	<font color="#0000FF">mov</font> <font color="#C80000">dl</font>, <font color="#800080">'a'</font>
	<font color="#0000FF">int</font> 21h
</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->




<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>







<a name="int21h_06h">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH=6</b> - direct console input or output.
	<br><br>
	parameters for output:	<b>DL</b> = 0..254 (ascii code)<br>
	parameters for input:	<b>DL</b> = 255
	<br><br>
	for output returns: AL = DL<br>
	for input returns: <b>ZF</b> set if no character available and <b>AL = 00h</b>, <b>ZF</b> clear if character available.<br>
	<b>AL</b> = character read; buffer is cleared.
	<br><br>
	example:

<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 6
	<font color="#0000FF">mov</font> <font color="#C80000">dl</font>, <font color="#800080">'a'</font>
	<font color="#0000FF">int</font> 21h       <font color="#008000">; output character. </font>

	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 6
	<font color="#0000FF">mov</font> <font color="#C80000">dl</font>, 255
	<font color="#0000FF">int</font> 21h       <font color="#008000">; get character from keyboard buffer (if any) or set ZF=1. </font>

</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->



<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>











<a name="int21h_07h">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH=7</b> - character input without echo to AL.<br>
	if there is no character in the keyboard buffer, the function waits until any key is pressed.
	<br><br>
	example:

<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 7
	<font color="#0000FF">int</font> 21h

</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->




<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>









<a name="int21h_09h">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH=9</b> - output of a string at <b>DS:DX</b>. String must be terminated by '<b>$</b>'.
		<br><br>
		example:
<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
		<font color="#000064">org</font> 100h
		<font color="#0000FF">mov</font> <font color="#C80000">dx</font>, <font color="#000064">offset</font> msg
		<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 9
		<font color="#0000FF">int</font> 21h
		<font color="#0000FF">ret</font>
		msg <font color="#000064">db</font> <font color="#800080">"hello world $"</font>

</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->



<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>











<a name="int21h_0Ah">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH=0Ah</b> - input of a string to <b>DS:DX</b>, fist byte is buffer size, second byte is number of chars actually read. this function does <b>not</b> add '$' in the end of string. to print using <b>INT 21h</b> / <b>AH=9</b> you must set dollar character at the end of it and start printing from address <b>DS:DX + 2</b>.
		<br><br>
		example:

<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
		<font color="#000064">org</font> 100h
		<font color="#0000FF">mov</font> <font color="#C80000">dx</font>, <font color="#000064">offset</font> buffer
		<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 0ah
		<font color="#0000FF">int</font> 21h
		<font color="#0000FF">jmp</font> print
		buffer <font color="#000064">db</font> 10,?, 10 dup(<font color="#800080">' '</font>)
		print:
		<font color="#0000FF">xor</font> <font color="#C80000">bx</font>, <font color="#C80000">bx</font>
		<font color="#0000FF">mov</font> <font color="#C80000">bl</font>, buffer<font color="#0064C8">[</font>1<font color="#0064C8">]</font>
		<font color="#0000FF">mov</font> buffer<font color="#0064C8">[</font><font color="#C80000">bx</font><font color="#0064C8">+</font>2<font color="#0064C8">]</font>, <font color="#800080">'$'</font>
		<font color="#0000FF">mov</font> <font color="#C80000">dx</font>, <font color="#000064">offset</font> buffer <font color="#0064C8">+</font> 2
		<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 9
		<font color="#0000FF">int</font> 21h
		<font color="#0000FF">ret</font>
</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->

	the function does not allow to enter more characters than the specified buffer size.<br>
    see also <b>int21.asm</b> in c:\emu8086\examples

<br><br>

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>














<a name="int21h_0Bh">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH=0Bh</b> - get input status; <br>
	returns: <b>AL = 00h</b> if no character available, <b>AL = 0FFh</b> if character is available.

<br><br>

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>















<a name="int21h_0Ch">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH=0Ch</b> -  flush keyboard buffer and read standard input.<br>
	entry: <b>AL</b> = number of input function to execute after flushing buffer (can be 01h,06h,07h,08h, or 0Ah - for other values the buffer is flushed but no input is attempted); other registers as appropriate for the selected input function.

<br><br>
<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>














<a name="int21h_0Eh">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH= 0Eh</b> - select default drive.

	<br><br>
Entry: <b>DL</b> = new default drive (0=A:, 1=B:, etc)
	<br><br>
Return: <b>AL</b> = number of potentially valid drive letters
	<br><br>
Notes: the return value is the highest drive present.

<br><br>
<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>











<a name="int21h_19h">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH= 19h</b> - get current default drive.
	<br><br>
	Return: AL = drive (0=A:, 1=B:, etc)

<br><br>
<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>










<a name="int21h_25h">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH=25h</b> -  set interrupt vector;<br>
	input: <b>AL</b> = interrupt number. <b>DS:DX</b> -&gt; new interrupt handler.

<br><br>
<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>















<a name="int21h_2Ah">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH=2Ah</b> -  get system date;<br>
	return: <b>CX</b> = year (1980-2099). <b>DH</b> = month. <b>DL</b> = day. <b>AL</b> = day of week (00h=Sunday)

	<br><br>
<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>










<a name="int21h_2Ch">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH=2Ch</b> -  get system time; <br>
	return: <b>CH</b> = hour. <b>CL</b> = minute. <b>DH</b> = second. <b>DL</b> = 1/100 seconds.

<br><br>
<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>













<a name="int21h_35h">&nbsp;</a>
	<hr>
	<br><br>


	<b>INT 21h</b> / <b>AH=35h</b> -  get interrupt vector;<br>
	entry: <b>AL</b> = interrupt number;<br>
	return: <b>ES:BX</b> -&gt; current interrupt handler.


<br><br>
<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>























<a name="int21h_39h">&nbsp;</a>
	<hr>
	<br><br>



	<b>INT 21h</b> / <b>AH= 39h</b> -  make directory.<br>

	entry: <b>DS:DX</b> -&gt; ASCIZ pathname; zero terminated string, for example: <br>


<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
<font color="#000064">org</font> 100h
<font color="#0000FF">mov</font> <font color="#C80000">dx</font>, <font color="#000064">offset</font> filepath
<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 39h
<font color="#0000FF">int</font> 21h

<font color="#0000FF">ret</font>

filepath <font color="#000064">DB</font> <font color="#800080">"C:\mydir"</font>, 0 	<font color="#008000">; path to be created. </font>
<font color="#000064">end</font>
</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->


	<font size="1">the above code creates <b>c:\emu8086\vdrive\C\mydir</b> directory if run by the emulator.</font>

	<br><br>

	Return: <b>CF</b> clear if successful <b>AX</b> destroyed. <b>CF</b> set on error <b>AX</b> = error code.<br>
	Note: all directories in the given path must exist except the last one.
<br><br>
<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>





















<a name="int21h_3Ah">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH= 3Ah</b> - remove directory.
<br><br>
Entry: <b>DS:DX</b> -&gt; ASCIZ pathname of directory to be removed.
<br><br>
Return:
<br><br>
<b>CF</b> is clear if successful, <b>AX</b> destroyed
<b>CF</b> is set on error <b>AX</b> = error code.
<br><br>
Notes: directory must be empty (there should be no files inside of it).

<br><br>
<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>


















<a name="int21h_3Bh">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH= 3Bh</b> - set current directory.
	<br><br>
Entry: <b>DS:DX</b> -&gt; ASCIZ pathname to become current directory (max 64 bytes).
	<br><br>
Return:
	<br><br>
<b>Carry Flag</b> is clear if successful, <b>AX</b> destroyed.<br>
<b>Carry Flag</b> is set on error <b>AX</b> = error code.<br>
Notes: even if new directory name includes a drive letter, the default drive is not changed,<br>
only the current directory on that drive.

<br><br>
<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>




















<a name="int21h_3Ch">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH= 3Ch</b> - create or truncate file.
	<br><br>
entry:
<br><br>


<b>CX</b> = file attributes:

<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
 <font color="#0000FF">mov</font> <font color="#C80000">cx</font>, 0       <font color="#008000">;  normal - no attributes. </font>
 <font color="#0000FF">mov</font> <font color="#C80000">cx</font>, 1       <font color="#008000">;  read-only. </font>
 <font color="#0000FF">mov</font> <font color="#C80000">cx</font>, 2       <font color="#008000">;  hidden. </font>
 <font color="#0000FF">mov</font> <font color="#C80000">cx</font>, 4       <font color="#008000">;  system </font>
 <font color="#0000FF">mov</font> <font color="#C80000">cx</font>, 7       <font color="#008000">;  hidden, system and read-only! </font>
 <font color="#0000FF">mov</font> <font color="#C80000">cx</font>, 16      <font color="#008000">;  archive </font>
</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->

<b>DS:DX</b> -&gt; ASCIZ filename.
<br><br>
returns:
<br><br>
<b>CF</b> clear if successful, <b>AX</b> = file handle. <br>
<b>CF</b> set on error <b>AX</b> = error code.
<br><br>
<font color="red" size="1"><b>note: if specified file exists it is deleted without a warning.</b></font>

<br><br>
	example:

<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
	<font color="#000064">org</font> 100h
	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 3ch
	<font color="#0000FF">mov</font> <font color="#C80000">cx</font>, 0
	<font color="#0000FF">mov</font> <font color="#C80000">dx</font>, <font color="#000064">offset</font> filename
	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 3ch
	<font color="#0000FF">int</font> 21h
	<font color="#0000FF">jc</font> err
	<font color="#0000FF">mov</font> handle, <font color="#C80000">ax</font>
	<font color="#0000FF">jmp</font> k
	filename <font color="#000064">db</font> <font color="#800080">"myfile.txt"</font>, 0
	handle <font color="#000064">dw</font> ?
	err:
	<font color="#008000">; .... </font>
	k:
	<font color="#0000FF">ret</font>

</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->


<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>

















<a name="int21h_3Dh">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH= 3Dh</b> - open existing file.
	<br><br>
Entry:
<br><br>
<b>AL</b> = access and sharing modes: <br>
<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
<font color="#0000FF">mov</font> <font color="#C80000">al</font>, 0   <font color="#008000">; read </font>
<font color="#0000FF">mov</font> <font color="#C80000">al</font>, 1   <font color="#008000">; write </font>
<font color="#0000FF">mov</font> <font color="#C80000">al</font>, 2   <font color="#008000">; read/write </font>

</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->
<br>
<b>DS:DX</b> -&gt; ASCIZ filename.
<br><br>
Return:
<br><br>
<b>CF</b> clear if successful, <b>AX</b> = file handle.<br>
<b>CF</b> set on error <b>AX</b> = error code.
<br><br>
note 1: file pointer is set to start of file. <br>
note 2: file must exist.
<br><br>
	example:
<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
	<font color="#000064">org</font> 100h
	<font color="#0000FF">mov</font> <font color="#C80000">al</font>, 2
	<font color="#0000FF">mov</font> <font color="#C80000">dx</font>, <font color="#000064">offset</font> filename
	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 3dh
	<font color="#0000FF">int</font> 21h
	<font color="#0000FF">jc</font> err
	<font color="#0000FF">mov</font> handle, <font color="#C80000">ax</font>
	<font color="#0000FF">jmp</font> k
	filename <font color="#000064">db</font> <font color="#800080">"myfile.txt"</font>, 0
	handle <font color="#000064">dw</font> ?
	err:
	<font color="#008000">; .... </font>
	k:
	<font color="#0000FF">ret</font>
</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->



<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>













<a name="int21h_3Eh">&nbsp;</a>
	<hr>
	<br><br>


	<b>INT 21h</b> / <b>AH= 3Eh</b> - close file.
<br><br>
Entry: <b>BX</b> = file handle
<br><br>
Return:
<br><br>
<b>CF</b> clear if successful, <b>AX</b> destroyed. <br>
<b>CF</b> set on error, <b>AX</b> = error code (06h).

<br><br>
<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>














<a name="int21h_3Fh">&nbsp;</a>
<hr>
<br><br>

	<b>INT 21h</b> / <b>AH= 3Fh</b> - read from file.
	<br><br>
Entry:
<br><br>
<b>BX</b> = file handle. <br>
<b>CX</b> = number of bytes to read. <br>
<b>DS:DX</b> -&gt; buffer for data.
<br><br>
Return:
<br><br>
<b>CF</b> is clear if successful - <b>AX</b> = number of bytes actually read; 0 if at EOF (end of file) before call. <br>
<b>CF</b> is set on error <b>AX</b> = error code.
<br><br>
Note:

data is read beginning at current file position, and the file position is updated after a successful read
the returned <b>AX</b> may be smaller than the request in <b>CX</b> if a partial read occurred.
<br><br>
<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>














<a name="int21h_40h">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH= 40h</b> - write to file.
	<br><br>
entry:
	<br><br>
<b>BX</b> = file handle.<br>
<b>CX</b> = number of bytes to write.<br>
<b>DS:DX</b> -&gt; data to write.
	<br><br>
return:
	<br><br>
<b>CF</b> clear if successful; <b>AX</b> = number of bytes actually written.<br>
<b>CF</b> set on error; <b>AX</b> = error code.
	<br><br>
note: if <b>CX</b> is zero, no data is written, and the file is truncated or extended to the current position
data is written beginning at the current file position, and the file position is updated after a successful write
the usual cause for <nobr><b>AX</b> &lt; <b>CX</b></nobr> on return is a full disk.

<br><br>
<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>
















<a name="int21h_41h">&nbsp;</a>
	<hr>
	<br><br>

<b>INT 21h</b> / <b>AH= 41h</b> - delete file (unlink).
<br><br>
Entry:
<br><br>
<b>DS:DX</b> -&gt; ASCIZ filename (no wildcards, but see notes).
<br><br>
return:
<br><br>
<b>CF</b> clear if successful, <b>AX</b> destroyed. <b>AL</b> is the drive of deleted file (undocumented). <br>
<b>CF</b> set on error <b>AX</b> = error code.
<br><br>
Note:
DOS does not erase the file's data; it merely becomes inaccessible because the FAT chain for the file is cleared
deleting a file which is currently open may lead to filesystem corruption.

<br><br>
<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>













<a name="int21h_42h">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH= 42h</b> - SEEK - set current file position.
		<br><br>
Entry:
	<br><br>
<b>AL</b> = origin of move: <b>0</b> - start of file. <b>1</b> - current file position. <b>2</b> - end of file. <br>
<b>BX</b> = file handle. <br>
<b>CX:DX</b> = offset from origin of new file position.
	<br><br>
Return:
	<br><br>
<b>CF</b> clear if successful, <b>DX:AX</b> = new file position in bytes from start of file. <br>
<b>CF</b> set on error, AX = error code.
	<br><br>
Notes:
	<br><br>
for origins <b>1</b> and <b>2</b>, the pointer may be positioned before the start of the file; no error is returned in that case, but subsequent attempts to read or write the file will produce errors. If the new position is beyond the current end of file, the file will be extended by the next write (see <a href="#int21h_40h">AH=40h</a>).

<br><br>
	example:

<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
	<font color="#000064">org</font> 100h
	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 3ch
	<font color="#0000FF">mov</font> <font color="#C80000">cx</font>, 0
	<font color="#0000FF">mov</font> <font color="#C80000">dx</font>, <font color="#000064">offset</font> filename
	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 3ch
	<font color="#0000FF">int</font> 21h  <font color="#008000">; create file... </font>
	<font color="#0000FF">mov</font> handle, <font color="#C80000">ax</font>

	<font color="#0000FF">mov</font> <font color="#C80000">bx</font>, handle
	<font color="#0000FF">mov</font> <font color="#C80000">dx</font>, <font color="#000064">offset</font> data
	<font color="#0000FF">mov</font> <font color="#C80000">cx</font>, data_size
	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 40h
	<font color="#0000FF">int</font> 21h <font color="#008000">; write to file... </font>

	<font color="#0000FF">mov</font> <font color="#C80000">al</font>, 0
	<font color="#0000FF">mov</font> <font color="#C80000">bx</font>, handle
	<font color="#0000FF">mov</font> <font color="#C80000">cx</font>, 0
	<font color="#0000FF">mov</font> <font color="#C80000">dx</font>, 7
	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 42h
	<font color="#0000FF">int</font> 21h <font color="#008000">; seek... </font>

	<font color="#0000FF">mov</font> <font color="#C80000">bx</font>, handle
	<font color="#0000FF">mov</font> <font color="#C80000">dx</font>, <font color="#000064">offset</font> buffer
	<font color="#0000FF">mov</font> <font color="#C80000">cx</font>, 4
	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 3fh
	<font color="#0000FF">int</font> 21h <font color="#008000">; read from file... </font>

	<font color="#0000FF">mov</font> <font color="#C80000">bx</font>, handle
	<font color="#0000FF">mov</font> <font color="#C80000">ah</font>, 3eh
	<font color="#0000FF">int</font> 21h <font color="#008000">; close file... </font>
	<font color="#0000FF">ret</font>

	filename <font color="#000064">db</font> <font color="#800080">"myfile.txt"</font>, 0
	handle <font color="#000064">dw</font> ?
	data <font color="#000064">db</font> <font color="#800080">" hello files! "</font>
	data_size=$<font color="#0064C8">-</font><font color="#000064">offset</font> data
	buffer <font color="#000064">db</font> 4 dup(<font color="#800080">' '</font>)

</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>


















<a name="int21h_47h">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH= 47h</b> - get current directory.
<br><br>
Entry:
<br><br>
<b>DL</b> = drive number (00h = default, 01h = A:, etc) <br>
<b>DS:SI</b> -&gt; 64-byte buffer for ASCIZ pathname. <br><br>
Return:
<br><br>
<b>Carry</b> is clear if successful <br>
<b>Carry</b> is set on error, <b>AX</b> = error code (0Fh) <br><br>
Notes:
<br><br>
the returned path does not include a drive and the initial backslash.



<br><br>
<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>












<a name="int21h_4Ch">&nbsp;</a>
	<hr>
	<br><br>

	<b>INT 21h</b> / <b>AH=4Ch</b> - return control to the operating system (stop program).







<br><br>

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>












<a name="int21h_56h">&nbsp;</a>
	<hr>
	<br><br>


	<b>INT 21h</b> / <b>AH= 56h</b> - rename file / move file.
	<br><br>
Entry:
	<br><br>
<b>DS:DX</b> -&gt; ASCIZ filename of existing file.<br>
<b>ES:DI</b> -&gt; ASCIZ new filename.
	<br><br>
Return:
	<br><br>
<b>CF</b> clear if successful.<br>
<b>CF</b> set on error, <b>AX</b> = error code.
	<br><br>
Note: allows move between directories on same logical drive only;
open files should not be renamed!




<br><br>

<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>














<a name="int33h_0000h">&nbsp;</a>
<br>
 		<hr>

	<br><br>

	<b><font size="+1">mouse driver interrupts  -- INT 33h</font><br><br></b>

	<hr>
	<br><br>

	<b>INT 33h</b> / <b>AX=0000</b> - mouse ininialization. any previous mouse pointer is hidden.
	<br><br>
	returns:
	<blockquote>
	if successful: <b>AX</b>=0FFFFh and <b>BX</b>=number of mouse buttons.<br>
	if failed: <b>AX</b>=0
	</blockquote>
	example:
<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
<font color="#0000FF">mov</font> <font color="#C80000">ax</font>, 0
<font color="#0000FF">int</font> 33h
</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->

see also: mouse.asm in examples.

<br><br>
<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>








<a name="int33h_0001h">&nbsp;</a>

	<hr>
	<br><br>
	<b>INT 33h</b> / <b>AX=0001</b> - show mouse pointer.
	<br><br>
	example:
<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
<font color="#0000FF">mov</font> <font color="#C80000">ax</font>, 1
<font color="#0000FF">int</font> 33h

</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->


<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>







<a name="int33h_0002h">&nbsp;</a>

	<hr>
	<br><br>

 <b>INT 33h</b> / <b>AX=0002</b> - hide visible mouse pointer.
	<br><br>
	example:
<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
<font color="#0000FF">mov</font> <font color="#C80000">ax</font>, 2
<font color="#0000FF">int</font> 33h

</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->



<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>











<a name="int33h_0003h">&nbsp;</a>

	<hr>
	<br><br>



	<b>INT 33h</b> / <b>AX=0003</b> - get mouse position and status of its buttons.
	<br><br>
	returns:
	<blockquote>
if left button is down:   <b>BX</b>=1<br>
if right button is down:  <b>BX</b>=2<br>
if both buttons are down: <b>BX</b>=3<br>
<b>CX</b> = x<br>
<b>DX</b> = y
	</blockquote>
	example:

<!-- START AUTOMATIC ASM TO HTML EXPORT -->
<pre><font size="3" face="Terminal">
<font color="#0000FF">mov</font> <font color="#C80000">ax</font>, 3
<font color="#0000FF">int</font> 33h

<font color="#008000">; note: in graphical 320x200 mode the value of CX is doubled.
; see mouse2.asm in examples. </font>
</font></pre>
<!-- emu8086 version 3.27xn    -->
<!-- STOP AUTOMATIC ASM TO HTML EXPORT -->


<a href="#top1"><img align="right" width="41" height="36" src="img/back_to_top.gif" border="0" alt="Back to Top"></a>





	<hr>
	<br><br>

Click <a href="http://www.emu8086.com/dr/emu8086_assembler_solutions_faq.html" target="_blank" rel="noopener"><b><u>here</u></b></a> to view the list of frequently asked questions<br>
<font size="1">(connection to the Internet is required)</font>



</font>

<!--  STOP INSERT -->



<br>
<br><br>

<br>

<br><br>


<br>

<br><br>


<br>

<br><br>


<br><!-- hexo-inject:begin --><!-- hexo-inject:end -->




<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":150,"height":300,"vOffset":-30},"mobile":{"show":false,"scale":0.3,"display":{"position":"right","width":20,"height":40,"vOffset":-10}},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>

</html>

        
      </div>
      
      
      
    </div>
    


  
  
  <ul class="breadcrumb">
    
      
      
        
          <li><a href="/ustc-cs/">USTC-CS</a></li>
          
            
          
        
      
    
      
      
        
          <li><a href="/ustc-cs/计算机与信息类/">计算机与信息类</a></li>
          
            
          
        
      
    
      
      
        
          <li><a href="/ustc-cs/计算机与信息类/微机原理与系统/">微机原理与系统</a></li>
          
            
          
        
      
    
      
      
        
          <li><a href="/ustc-cs/计算机与信息类/微机原理与系统/lab/">LAB</a></li>
          
            
          
        
      
    
      
      
        
          <li><a href="/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/">EMU8086</a></li>
          
            
          
        
      
    
      
      
        
          <li>DOCUMENTATION</li>
        
      
    
      
      
        
          <li><a href="/ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/8086_bios_and_dos_interrupts.html/">8086_BIOS_AND_DOS_INTERRUPTS.HTML</a></li>
          
            
          
        
      
    
  </ul>


    
    
    
  </div>


          </div>
          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC8zMDA5Ni82NjUx"></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/uploads/yinyang.png"
                alt="mbinary" />
            
              <p class="site-author-name" itemprop="name">mbinary</p>
              <p class="site-description motion-element" itemprop="description">淡泊明志, 宁静致远</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">39</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">15</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">47</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/mbinary" target="_blank" title="GitHub" rel="external nofollow"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="http://www.linkedin.com/in/cs-heqin-zhu" target="_blank" title="LinkedIn" rel="external nofollow"><i class="fa fa-fw fa-linkedin"></i>LinkedIn</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://leetcode-cn.com/mbinary/" target="_blank" title="Leetcode" rel="external nofollow"><i class="fa fa-fw fa-code"></i>Leetcode</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.jianshu.com/u/a3bef26d9911" target="_blank" title="Jianshu" rel="external nofollow"><i class="fa fa-fw fa-pencil"></i>Jianshu</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="http://wpa.qq.com/msgrd?v=3&uin=414313516&site=qq&menu=yes" target="_blank" title="QQ" rel="external nofollow"><i class="fa fa-fw fa-qq"></i>QQ</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:zhuheqin1@gmail.com" target="_blank" title="Email" rel="external nofollow"><i class="fa fa-fw fa-envelope"></i>Email</a>
                  
                </span>
              
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="https://mbinary.coding.me/photo/index.html" title="相册" target="_blank">相册</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://mbinary.coding.me/share-books.html" title="书籍" target="_blank">书籍</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://mbinary.coding.me/video.html" title="影视" target="_blank">影视</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://mbinary.coding.me/share/blogs.html" title="博客" target="_blank">博客</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://mbinary.coding.me/share/tools.html" title="工具" target="_blank">工具</a>
                  </li>
                
              </ul>
            </div>
          

          
            
          
          

        </div>
      </section>

      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div>
  <span class="with-love">
    <a href="https://github.com/mbinary"><i class="fa fa-github"></i></a>
    <a href="mailto:zhuheqin1@gmail.com?subject=feedback"><i class="fa fa-envelope"></i></a>
    <a href="http://wpa.qq.com/msgrd?v=3&uin=414313516&site=qq&menu=yes"><i class="fa fa-qq"></i></a>
    <a href="https://mbinary.coding.me/atom.xml"><i class="fa fa-feed"></i>
        <span class="with-love" id="heart">(。・∀・)ノ<i class="fa fa-heart"></i></span></a>
</span></div>
<div> 
  <span>
      Host: 
      <a class="host" href="https://mbinary.github.io"><i class="fa fa-github-alt"></i>Github</a>
      <a class="host" href="https://mbinary.coding.me"><i class="fa fa-code"></i>Coding</a>
  </span>
</div>
<div class="copyright">
  <span>
      <a class="theme-link" rel="external nofolow" href="https://hexo.io/themes/index.html">Hexo </a> 
      Theme:
      <a href="https://github.com/theme-next/hexo-theme-next">Next</a>
  </span>
  &nbsp;
  
  &copy;  2017 - 
  <span itemprop="copyrightYear">2018</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv" title="总访客量">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="site-pv" title="总访问量">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="https://ajax.cat.net/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.4.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.4.2"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.4.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.4.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.2"></script>



  



  
    <script type="text/javascript">
      window.livereOptions = {
        refer: 'ustc-cs/计算机与信息类/微机原理与系统/lab/emu8086/documentation/8086_bios_and_dos_interrupts.html'
      };
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  










  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('-1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  

  
  

  


  
  

  
  
  
    
  
  <script src="https://cdn.jsdelivr.net/npm/pangu@3.3.0/dist/browser/pangu.min.js"></script>
  <script type="text/javascript">pangu.spacingPage();</script>


  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=6.4.2"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=6.4.2"></script>


  

  

  
  <style>
    .copy-btn {
      display: inline-block;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 700;
      line-height: 20px;
      color: #333;
      white-space: nowrap;
      vertical-align: middle;
      cursor: pointer;
      background-color: #eee;
      background-image: linear-gradient(#fcfcfc, #eee);
      border: 1px solid #d5d5d5;
      border-radius: 3px;
      user-select: none;
      outline: 0;
    }

    .highlight-wrap .copy-btn {
      transition: opacity .3s ease-in-out;
      opacity: 0;
      padding: 2px 6px;
      position: absolute;
      right: 4px;
      top: 8px;
    }

    .highlight-wrap:hover .copy-btn,
    .highlight-wrap .copy-btn:focus {
      opacity: 1
    }

    .highlight-wrap {
      position: relative;
    }
  </style>
  <script>
    $('.highlight').each(function (i, e) {
      var $wrap = $('<div>').addClass('highlight-wrap')
      $(e).after($wrap)
      $wrap.append($('<button>').addClass('copy-btn').append('复制').on('click', function (e) {
        var code = $(this).parent().find('.code').find('.line').map(function (i, e) {
          return $(e).text()
        }).toArray().join('\n')
        var ta = document.createElement('textarea')
        document.body.appendChild(ta)
        ta.style.position = 'absolute'
        ta.style.top = '0px'
        ta.style.left = '0px'
        ta.value = code
        ta.select()
        ta.focus()
        var result = document.execCommand('copy')
        document.body.removeChild(ta)
        
        $(this).blur()
      })).on('mouseleave', function (e) {
        var $b = $(this).find('.copy-btn')
        setTimeout(function () {
          $b.text('复制')
        }, 300)
      }).append(e)
    })
  </script>


<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":150,"height":300,"vOffset":-30},"mobile":{"show":false,"scale":0.3,"display":{"position":"right","width":20,"height":40,"vOffset":-10}},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
