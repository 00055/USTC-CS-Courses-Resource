

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
    <link href="https://mbinary0.github.io/resource/github.markdown.css" rel="stylesheet">
  </head>
  <body>
     	<div><h2>
                <a href="../index.html">&nbsp;&nbsp;<i class="fa fa-level-up"></i>&nbsp;&nbsp;</a>:
                /<a href="../../../../index.html"><i class="fa fa-home"></i></a>/<a href="../../../index.html">计算机与信息类</a>/<a href="../../index.html">编译原理和技术</a>/<a href="../index.html">homework&lab-郑启龙</a>/<a href="index.html">lab1-declarationParser</a>
            </h2>
        </div>
        
        
        <h2>Directories</h2>
        <ul>
        <li><a href="__pycache__/index.html" ><i class="fa fa-folder"></i>&nbsp;__pycache__</a></li>
        </ul>

        <h2>Files</h2>
        <ul>
        <li><a href="https://raw.githubusercontent.com/mbinary/USTC-CS-Courses-Resource/master/计算机与信息类/编译原理和技术/homework&lab-郑启龙/lab1-declarationParser/-计算机与信息类-编译原理和技术-homework&lab-郑启龙-lab1-declarationParser目录下的3个文件.zip" ><i class="fa fa-file-zip-o"></i>&nbsp;-计算机与信息类-编译原理和技术-homework&lab-郑启龙-lab1-declarationParser目录下的3个文件.zip---(8.89K)</a></li>
<li><a href="https://raw.githubusercontent.com/mbinary/USTC-CS-Courses-Resource/master/计算机与信息类/编译原理和技术/homework&lab-郑启龙/lab1-declarationParser/declarationParser.py" ><i class="fa fa-file-code-o"></i>&nbsp;declarationParser.py---(6.77K)</a></li>
<li><a href="https://raw.githubusercontent.com/mbinary/USTC-CS-Courses-Resource/master/计算机与信息类/编译原理和技术/homework&lab-郑启龙/lab1-declarationParser/README.md" ><i class="fa fa-pencil-square-o"></i>&nbsp;README.md---(1.79K)</a></li>
<li><a href="https://raw.githubusercontent.com/mbinary/USTC-CS-Courses-Resource/master/计算机与信息类/编译原理和技术/homework&lab-郑启龙/lab1-declarationParser/test.txt" ><i class="fa fa-pencil-square-o"></i>&nbsp;test.txt---(149.00B)</a></li>
<li><a href="https://raw.githubusercontent.com/mbinary/USTC-CS-Courses-Resource/master/计算机与信息类/编译原理和技术/homework&lab-郑启龙/lab1-declarationParser/token_scanner.py" ><i class="fa fa-file-code-o"></i>&nbsp;token_scanner.py---(1.65K)</a></li>
        </ul>

        <div style="text-decration:underline;display:inline">
        <a href="https://github.com/mbinary/USTC-CS-Courses-Resource.git" target="_blank" rel="external"><i class="fa fa-github"></i>&nbsp; Github</a>
        <a href="mailto:&#122;huheqin1@gmail?subject=反馈与建议" style="float:right" target="_blank" rel="external"><i class="fa fa-envelope"></i>&nbsp; Feedback</a>
        </div>

        <h1 style="color:red;text-align:center;" >Read Me</h1>

<h1 id="c-parser">C-parser</h1>
<blockquote>
<p>A token_scanner and declaration parser for simplified c using LL(1)</p>
</blockquote>
<h1 id="rules">Rules</h1>
<ul>
<li>size of int or pointer is 1byte</li>
</ul>
<h1 id="grammar">Grammar</h1>
<div class="codehilite"><pre><span></span><span class="n">translation_unit</span> 
  <span class="k">:</span> <span class="kt">declaration</span> 
  <span class="o">|</span> <span class="n">translation_unit</span> <span class="n">declaration</span> 
      <span class="o">;</span> 

<span class="n">declaration</span> 
  <span class="k">:</span> <span class="kt">declaration_specifiers</span> <span class="kt">init_declarator_list</span> <span class="err">&#39;</span><span class="o">;</span><span class="err">&#39;</span> 
      <span class="o">;</span> 

<span class="n">declaration_specifiers</span> 
  <span class="k">:</span> <span class="k">type_</span><span class="kt">specifier</span> 
  <span class="o">;</span> 

<span class="n">init_declarator_list</span> 
  <span class="k">:</span> <span class="kt">init_declarator</span> 
  <span class="o">|</span> <span class="n">init_declarator_list</span> <span class="sc">&#39;,&#39;</span> <span class="n">init_declarator</span> 
  <span class="o">;</span> 

<span class="n">init_declarator</span> 
  <span class="k">:</span> <span class="kt">declarator</span> 
  <span class="o">;</span> 

<span class="n">type_specifier</span> 
  <span class="k">:</span> <span class="kt">VOID</span> 
  <span class="o">|</span> <span class="nc">INT</span> 
  <span class="o">;</span> 

<span class="n">declarator</span> 
  <span class="k">:</span> <span class="kt">pointer</span> <span class="kt">direct_declarator</span> 
  <span class="o">|</span> <span class="n">direct_declarator</span> 
  <span class="o">;</span> 

<span class="n">direct_declarator</span> 
  <span class="k">:</span> <span class="kt">IDENTIFIER</span> 
  <span class="o">|</span> <span class="sc">&#39;(&#39;</span> <span class="n">declarator</span> <span class="sc">&#39;)&#39;</span> 
  <span class="o">|</span> <span class="n">direct_declarator</span> <span class="sc">&#39;[&#39;</span> <span class="nc">CONSTANT_INT</span> <span class="sc">&#39;]&#39;</span> 
  <span class="o">|</span> <span class="n">direct_declarator</span> <span class="sc">&#39;(&#39;</span> <span class="n">parameter_type_list</span> <span class="sc">&#39;)&#39;</span> 
  <span class="o">|</span> <span class="n">direct_declarator</span> <span class="sc">&#39;(&#39;</span> <span class="sc">&#39;)&#39;</span> 
  <span class="o">;</span> 
 <span class="n">pointer</span> 
  <span class="k">:</span> <span class="err">&#39;</span><span class="kt">*</span><span class="err">&#39;</span> 
  <span class="kt">|</span> <span class="err">&#39;</span><span class="kt">*</span><span class="err">&#39;</span> <span class="kt">pointer</span> 
  <span class="o">;</span> 

<span class="n">parameter_type_list</span> 
  <span class="k">:</span> <span class="kt">parameter_list</span> 
      <span class="o">;</span> 

<span class="n">parameter_list</span> 
  <span class="k">:</span> <span class="kt">parameter_declaration</span> 
  <span class="o">|</span> <span class="n">parameter_list</span> <span class="sc">&#39;,&#39;</span> <span class="n">parameter_declaration</span> 
  <span class="o">;</span> 

<span class="n">parameter_declaration</span> 
  <span class="k">:</span> <span class="kt">declaration_specifiers</span> <span class="kt">declarator</span> 
  <span class="o">;</span> 
</pre></div>


<h1 id="examples">Examples</h1>
<div class="codehilite"><pre><span></span><span class="o">&gt;&gt;</span> <span class="kt">int</span> <span class="o">*</span><span class="n">p</span><span class="p">,</span><span class="n">q</span><span class="p">,</span><span class="n">j</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
<span class="n">Varible</span>   <span class="n">p</span><span class="p">,</span> <span class="nl">size</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nl">type</span><span class="p">:</span> <span class="n">pointer</span><span class="p">(</span><span class="n">INT</span><span class="p">)</span>
<span class="n">Varible</span>   <span class="n">q</span><span class="p">,</span> <span class="nl">size</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nl">type</span><span class="p">:</span> <span class="n">INT</span>
<span class="n">Varible</span>   <span class="n">j</span><span class="p">,</span> <span class="nl">size</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nl">type</span><span class="p">:</span> <span class="n">array</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">INT</span><span class="p">)</span>

<span class="o">&gt;&gt;</span> <span class="kt">int</span> <span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">3</span><span class="p">];</span>
<span class="n">Varible</span>   <span class="n">p</span><span class="p">,</span> <span class="nl">size</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="nl">type</span><span class="p">:</span> <span class="n">array</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">array</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="n">pointer</span><span class="p">(</span><span class="n">INT</span><span class="p">)))</span>

<span class="o">&gt;&gt;</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="mi">4</span><span class="p">])[</span><span class="mi">2</span><span class="p">];</span>
<span class="n">Varible</span>   <span class="n">p</span><span class="p">,</span> <span class="nl">size</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nl">type</span><span class="p">:</span> <span class="n">array</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="n">pointer</span><span class="p">(</span><span class="n">array</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">INT</span><span class="p">)))</span>

<span class="o">&gt;&gt;</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">f</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">void</span> <span class="o">*</span><span class="n">j</span><span class="p">))[</span><span class="mi">2</span><span class="p">];</span>
<span class="n">Parameter</span> <span class="n">i</span><span class="p">,</span> <span class="nl">size</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nl">type</span><span class="p">:</span> <span class="n">INT</span>
<span class="n">Parameter</span> <span class="n">j</span><span class="p">,</span> <span class="nl">size</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nl">type</span><span class="p">:</span> <span class="n">pointer</span><span class="p">(</span><span class="n">VOID</span><span class="p">)</span>
<span class="n">Function</span>  <span class="n">f</span><span class="p">,</span> <span class="k">return</span> <span class="nl">type</span><span class="p">:</span> <span class="n">pointer</span><span class="p">(</span><span class="n">array</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">INT</span><span class="p">))</span>

<span class="o">&gt;&gt;</span> <span class="kt">int</span> <span class="n">f</span><span class="p">(</span><span class="kt">void</span> <span class="n">i</span><span class="p">,</span> <span class="kt">void</span> <span class="n">j</span><span class="p">,</span> <span class="kt">int</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
<span class="n">Parameter</span> <span class="n">i</span><span class="p">,</span> <span class="nl">size</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nl">type</span><span class="p">:</span> <span class="n">VOID</span>
<span class="n">Parameter</span> <span class="n">j</span><span class="p">,</span> <span class="nl">size</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nl">type</span><span class="p">:</span> <span class="n">VOID</span>
<span class="n">Parameter</span> <span class="n">p</span><span class="p">,</span> <span class="nl">size</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nl">type</span><span class="p">:</span> <span class="n">array</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">INT</span><span class="p">)</span>
<span class="n">Function</span>  <span class="n">f</span><span class="p">,</span> <span class="k">return</span> <span class="nl">type</span><span class="p">:</span> <span class="n">INT</span>

<span class="o">&gt;&gt;</span> <span class="kt">int</span> <span class="o">*</span><span class="n">f</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">)[</span><span class="mi">2</span><span class="p">];</span>
<span class="nl">Error</span><span class="p">:</span> <span class="n">Array</span> <span class="n">of</span> <span class="n">Function</span> <span class="n">can</span> <span class="n">not</span> <span class="n">be</span> <span class="n">returned</span> <span class="n">from</span> <span class="n">functions</span>

<span class="o">&gt;&gt;</span> <span class="kt">int</span> <span class="n">f</span><span class="p">[</span><span class="mi">2</span><span class="p">](</span><span class="kt">int</span> <span class="n">k</span><span class="p">);</span>
<span class="nl">Error</span><span class="p">:</span> <span class="n">Array</span> <span class="n">of</span> <span class="n">Functions</span> <span class="n">is</span> <span class="n">not</span> <span class="n">allowed</span>
</pre></div>
    </body>  
</html>
