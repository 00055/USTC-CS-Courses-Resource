

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
    <link href="https://mbinary0.github.io/resource/github.markdown.css" rel="stylesheet">
  </head>
  <body>
     	<div><h2>
                <a href="../index.html">&nbsp;&nbsp;<i class="fa fa-level-up"></i>&nbsp;&nbsp;</a>:
                /<a href="../../../../index.html"><i class="fa fa-home"></i></a>/<a href="../../../index.html">数学类</a>/<a href="../../index.html">计算方法</a>/<a href="../index.html">code</a>/<a href="index.html">determine</a>
            </h2>
        <div><span> 根据拼音排序</span></div>
        </div>
        <h2>Directories</h2>
        <ul>
        <li><i class="fa fa-meh-o"></i>&nbsp;None</li>
        </ul>

        <h2>Files</h2>
        <ul>
        <li><a href="https://raw.githubusercontent.com/mbinary/USTC-CS-Courses-Resource/master/数学类/计算方法/code/determine/-数学类-计算方法-code-determine目录下的3个文件.zip"><i class="fa fa-file-zip-o"></i>&nbsp;-数学类-计算方法-code-determine目录下的3个文件.zip---(214.19K)</a></li>
<li><a href="https://raw.githubusercontent.com/mbinary/USTC-CS-Courses-Resource/master/数学类/计算方法/code/determine/determine.png"><i class="fa fa-file-picture-o"></i>&nbsp;determine.png---(5.95K)</a></li>
<li><a href="https://raw.githubusercontent.com/mbinary/USTC-CS-Courses-Resource/master/数学类/计算方法/code/determine/第2组-朱河勤-PB16030899-determine.zip"><i class="fa fa-file-zip-o"></i>&nbsp;第2组-朱河勤-PB16030899-determine.zip---(204.27K)</a></li>
<li><a href="https://raw.githubusercontent.com/mbinary/USTC-CS-Courses-Resource/master/数学类/计算方法/code/determine/linear_equation.py"><i class="fa fa-file-code-o"></i>&nbsp;linear_equation.py---(1.85K)</a></li>
<li><a href="https://raw.githubusercontent.com/mbinary/USTC-CS-Courses-Resource/master/数学类/计算方法/code/determine/README.md"><i class="fa fa-pencil-square-o"></i>&nbsp;README.md---(1.53K)</a></li>
<li><a href="https://raw.githubusercontent.com/mbinary/USTC-CS-Courses-Resource/master/数学类/计算方法/code/determine/README.pdf"><i class="fa fa-file-pdf-o"></i>&nbsp;README.pdf---(206.12K)</a></li>
        </ul>

        <div style="text-decration:underline;display:inline">
        <a href="https://github.com/mbinary/USTC-CS-Courses-Resource.git" target="_blank" rel="external"><i class="fa fa-github"></i>&nbsp; Github</a>
        <a href="mailto:&#122;huheqin1@gmail?subject=反馈与建议" style="float:right" target="_blank" rel="external"><i class="fa fa-envelope"></i>&nbsp; Feedback</a>
        </div>

        <blockquote> <p> 如果出现了 404, 说明此博客与 github repo 更新不同步, 你可以尽快联系我解决, 或者访问 github </p></blockquote>
        <h1 style="color:red;text-align:center;">Read Me</h1>

<p><strong><span style="float:right">PB16030899-朱河勤 <br>2018-5-20<span></strong></p>
<h1 id="_1"><center> 高斯列主元消元法计算行列式</h1>
<blockquote>
<p>书上p186, 附录1程序11</p>
</blockquote>
<h1 id="_2">算法描述</h1>
<p>行序从1到m,当为第i行, 找出第i列第i个数到第m个数中最大值的行k,然后交换行i,k, 然后依次用第i行,将i+1..m行的第i个元素化作0, 最后得到上三角矩阵, 对角线元素相乘就得到行列式</p>
<h1 id="_3">程序源码</h1>
<div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="k">def</span> <span class="nf">gauss_prior_elimination</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;using guass elimination,get up_trianglge form of A&#39;&#39;&#39;</span>
    <span class="n">m</span><span class="p">,</span><span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">res</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">m</span> <span class="k">if</span> <span class="n">b</span> <span class="ow">is</span> <span class="bp">None</span> <span class="k">else</span> <span class="n">b</span>
    <span class="k">if</span> <span class="n">m</span><span class="o">!=</span><span class="n">n</span><span class="p">:</span><span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;[Error]: matrix is not inversable&quot;</span><span class="p">)</span>
    <span class="c1"># necessary,otherwise when the dtype of A is int, then it will be wrong</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">dtype</span><span class="o">=</span><span class="nb">float</span><span class="p">)</span> 
    <span class="k">for</span>  <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="o">-</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">col</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">:,</span><span class="n">i</span><span class="p">])</span> <span class="c1">#  note using abs value,  return a matrix in (m-i)x1 form</span>
        <span class="n">mx</span> <span class="o">=</span> <span class="n">col</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">mx</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span> <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;[Error]: matrix is not inversable&quot;</span><span class="p">)</span>
        <span class="n">pos</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="n">col</span><span class="o">.</span><span class="n">argmax</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">pos</span> <span class="o">!=</span> <span class="n">i</span> <span class="p">:</span>  <span class="n">B</span><span class="p">[[</span><span class="n">pos</span><span class="p">,</span><span class="n">i</span><span class="p">],:]</span> <span class="o">=</span> <span class="n">B</span><span class="p">[[</span><span class="n">i</span><span class="p">,</span><span class="n">pos</span><span class="p">],:]</span>  <span class="c1">#  note how to swap cols/rows</span>
        <span class="c1">#B[i,:] = B[i,:]/mx</span>
        <span class="c1">#res[i]/=mx</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="n">m</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">B</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">i</span><span class="p">]</span><span class="o">!=</span><span class="mi">0</span><span class="p">:</span>
                <span class="n">B</span><span class="p">[</span><span class="n">j</span><span class="p">,:]</span> <span class="o">-=</span> <span class="n">B</span><span class="p">[</span><span class="n">j</span><span class="p">,</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">,:]</span>
                <span class="n">res</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-=</span> <span class="n">res</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">/</span><span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">res</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">b</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span><span class="k">return</span> <span class="n">B</span>
    <span class="k">return</span> <span class="n">B</span><span class="p">,</span><span class="n">res</span>

<span class="k">def</span> <span class="nf">det</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
    <span class="n">m</span><span class="p">,</span><span class="n">n</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">ret</span><span class="o">=</span><span class="mi">1</span>
    <span class="n">B</span> <span class="o">=</span> <span class="n">gauss_prior_elimination</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span><span class="p">):</span><span class="n">ret</span> <span class="o">*=</span> <span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">,</span><span class="n">i</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">ret</span>
</pre></div>


<h1 id="_4">测试结果</h1>
<p><img alt="" src="determine.png" /></p>
    </body>
</html>
