# quiz 1

## 1
面向连接服务能提供什么服务？ 15
(1)可靠传输；(2)有序传输；(3)资源预置(使用)

## 2
无连接服务的优点与缺点？ 15
优点：无需知道网络状态(包括网络资源)或只需知道局部网络状态
缺点：具有不确定性(是否有满足服务的网络资源不确定，能否完成服务不确定)

## 3
分层网络体系结构的不足： 15
上层协议的性能依赖于下层协议

## 4
分组交换原理： 15
(1)存储转发;(2)动态路由(包括每个分组自带源地址、目的地址，拓扑发现、路由选择);(3)出错交由端系统处理

## 5
若一个WWW文档中除有文本外，还有6个图像。试问使用http/1.0与1.1各需要建立几次TCP连接？ 20
1.0：7次
1.1：1次

## 6
假定要传送的报文共有x(单位bit)，从源节点到目的节点共有k跳链路，每条链路的传播时延为d(单位s)，链路带宽为b(单位bit/s)；电路交换(包括连接建立与拆除)使用的控制帧(或信令)长度、在各节点的排队时延忽略不计；分组交换使用的分组头、分组长度分别为h、p(单位bit)，分组在各节点的排队时延q(单位s)。试分析在何种条件下电路交换的总时延要小于分组交换的总时延？ 20
电路交换总时延D(c)：
(1)	连接建立时间：kd
(2)	连接拆除时间：kd
(3)	数据传输时间：x/b
(4)	数据传播时间：kd
D(c)=3kd+x/b
分组交换总时延D(p):
(1)	单个分组传输时间：(p+h)/b
(2)	第1跳传输时间：(x/p).((p+h)/b)  (x/p为分组个数)
(3)	传输时间每1跳增加1个分组的传输时间
总的传输时间为x/p*(p+h)/b+(k-1)*(p+h)/b
(4)	排队时间：kq
(5)	传播时间：kd
D(p)=x/p*(p+h)/b+(k-1)*(p+h)/b+kd+kq
若D(c)<D(p)，则


# quiz 2
## 1
TCP协议中ACK的作用。(20分)
答：(1)建立连接、拆除连接
(2)差错控制(或可靠传送)
(3)流量控制
(4)拥塞控制

## 2
 实现TCP连接目标的主要机制。(20分)
答：(1)通过传输层地址(端口号)实现进程间通信
(2)通过确认机制实现可靠传送
(3)通过接收方缓存实现按序传送
(4)流量控制
(5)拥塞控制
(6)连接建立与拆除机制

## 3
在TCP连接中，客户端的初始号215。客户打开连接，只发送一个携带有200字节数据的报文段，然后关闭连接。试问下面从客户端发送的各个报文段的序号分别是多少？(10分)
(1)SYN报文段；(2)数据报文段；3)FIN报文段。
答：(1)215；(2)216；(3)416

## 4
在一条新建的TCP连接上发送一个长度为32KB的文件。发送端每次都发送一个最大长度的段（MSS），MSS的长度为1KB，接收端正确收到一个TCP段后立即给予确认。发送端的初始拥塞窗口门限设为16KB。假设发送端尽可能快地传输数据，即只要发送窗口允许，发送端就发送一个MSS。(20分)
(1)已知发生第一次超时后，发送端将拥塞窗口门限调整为4KB。请问发生超时的时候，发送端的拥塞窗口是多大？此时发送端共发送了多少数据？其中有多少数据被成功确认了？
(2)发送端从未被确认的数据开始使用慢启动进行重传。假设此后未再发生超时，当文件全部发送完毕时，发送端的拥塞窗口是多大？
答：(1) 第一次超时发生时，发送端拥塞窗口大小 = 4KB*2 = 8KB		
在新建立的TCP连接上，发送端采用慢启动开始发送，因此当第一次超时发生时，发送端已发送的数据量 = 1KB + 2KB + 4KB + 8KB = 15KB。		
此时，除最后一批8个TCP段未获确认外，之前发送的TCP段都被确认，因此成功确认的数据量为7KB。
(2) 发送端采用慢启动重新开始发送，在拥塞窗口达到4KB时发送数据量=1KB+2KB+ 4KB=7KB。
然后进入拥塞避免阶段：在收到全部4个MSS的确认后，拥塞窗口增至5KB，相应地发送端发送了5KB数据；收到全部5个MSS的确认后，拥塞窗口增至6KB；收到全部6个MSS的确认后，拥塞窗口增至7KB；此时刚好发完。因此，文件发送结束时，发送端的拥塞窗口大小为7KB。

## 5
 TCP如何发送紧急数据？(10分)
答：(1)紧急标志位U(URG)置1；
(2)紧急数据置于TCP段数据(载荷)前部；
(3)紧急指针指向紧急数据的最后一个字节。

## 6
 TCP接收方何种情形需要立即进行确认？(20分)
答：(1)连续两个段按序到达，且前一个未确认；
(2)收到失序段(序号比期望的序号大)；
(3)收到丢失段；
(4)收到重复段。


# quiz 3
## 1
 一个子网IP地址为10.115.0.0，子网掩码为255.224.0.0的网络，它的网络地址、广播地址、最小用户地址、最大用户地址分别是？(15分)
答：网络地址：10.96.0.0
广播地址：10.127.255.255
最小用户地址：10.96.0.1
最大用户地址：10.127.255.254

## 2
假定路由器R的路由表如下。当目的地址为201.4.20.126的分组到达R时，R将使用哪个接口转发该分组？(10分)

掩码|网络地址|下一跳|接口
:-:|:-:|:-:|:-:
/26	|180.70.65.192|	-	|s2
/22	|201.4.20.0	|-|	s0
/24	|201.4.22.0	|-	|s3
/25	|201.4.20.0|	-	|s1

答：s1


## 3
 已知路由器R1有表3-1所示的路由表，现收到相邻路由器R2发来的路由更新信息，如表3-2所示。试根据RIP协议更新路由器R1的路由表。(15分)

 表3-1 路由器R1的路由表

目的网络|	距离	|下一跳
:-:|:-:|:-:
Net2	|3|	R2
Net3	|4|	R3
Net5	|5|	R4

表3-2 R2发给R1的更新

目的网络	|距离|	下一跳
:-:|:-:|:-:
Net1	|1	|-
Net2	|10|	R5
Net3	|2|	R6

答：路由器R1的路由表

目的网络	|距离	|下一跳
:-:|:-:|:-:
Net1	|2	|R2
Net2	|11	|R2
Net3	|3	|R2
Net5	|5|	R4

## 4
 一个IPv4分组的分片中，MF(或M)位是0，HLEN是10，总长度是200，分片偏移值是300。试求该分片第一个字节和最后一个字节在原分组中的位置。(10分)
答：第一字节的位置是2400(200*3)，最后一个字节的位置为2559(2400+200-10*4-1)。

## 5
 基于目的地址转发“下一跳方法”的优缺点。(15分)
答：
优点：每个路由表项只需保留“下一跳”的地址，无需给出完整的路由(路径)。
缺点：要求“下一跳”路由器知道剩余的路径信息或网络中的所有路由器信息保持一致。



## 6 RIP、OSPF协议的缺点。(15分)
答：RIP缺点:(1)更新周期(30s)过短;(2)未进行区域划分
OSPF缺点：用可靠广播方式在整个区域广播所有节点的链路状态，开销过大

## 7
 对于下图中的子网，若采用下列方法，从K开始广播需要产生多少个分组？
(1)	反向路径转发(Reverse path forwarding)? 
(2)	汇集树(sink tree)? 
(注意：必须画出相应的两棵树.) 

![](quiz-3-q7.png)

答：(1)24;(2)14(重点是画对图)

# quiz 4
## 1
 若一无限用户slotted ALOHA信道处于负载不足与过载的临界点，则
(1)信道中空闲时槽的比例是多少？
  (2)成功发送一个帧发送次数是多少?(选做，对了加20分)
答：(1)p0=e-G，G=1≡p0(空闲比例)=36.8%
	(2)G/S=1/0.368≈2.72(注：S=Ge-G)

## 2
 IEEE 802.3 MAC协议的全称？它是如何解决冲突的？(15分，第1问5分，第2问10分)
答：(1)1-坚持CSMA/CD；
(2)发前侦听，边发边听，冲突避让

## 3
 若某站点经历了10次连续冲突，则该次冲突导致站点在IEEE 802.3、802.3u网络中站点的平均等待时间分别为多少？（15分，第1问7.5分，第2问7.5分）
答：(1)1024/2=512;802.3:512*51.2μs;
(2)802.3u:512*5.12μs

## 4
 IEEE 802.11协议哪个(或几个)控制帧发现隐藏终端与暴露终端的？(15分, 第1问7.5分，第2问7.5分)
答：(1) 隐藏终端：CTS；
(2)暴露终端：RTS

## 5
 IEEE 802.3 MAC协议中最小帧长的功能与计算依据？(20分)
答：
最小帧长的功能：检测冲突。
计算依据：传输速率*相距最远的两个站点间传播时延

## 6
假定生成多项式 ，试计算帧100110101100 的循环冗余码(CRC)。(15分)
答：001101

## 7
数字签名是一种可提供发送方身份鉴别、报文完整性和防发送方抵赖的安全机制。(20分)
（1）请给出数字签名最常见的构造方法。
（2）根据数字签名的构造方法，说明数字签名为什么可以提供以上安全服务。
答：
(1) 当实体A需要为报文M生成数字签名时，A首先用一个散列函数计算M的报文摘要，然后用A的私钥加密该报文摘要，生成数字签名。
(2) A的私钥是只有A知道的秘密，任何其它实体无法得到，因而一个有效的数字签名可提供发送方身份鉴别。报文摘要可用于检测报文的完整性，对报文内容的任何修改将产生不同的报文摘要。用A的私钥加密后的报文摘要是不可伪造的，从而数字签名就将A与报文M紧密关联在一起，既能提供报文完整性服务，也能防止发送方抵赖。

